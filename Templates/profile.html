{% extends 'base.html' %} {% block content %}

<section style="background-color: #eee">
  <div class="container py-5">
    <div class="row">
      <div class="col-lg-4">
        <div class="card mb-4">
          <div class="card-body text-center">
            <img
              src=" {{ profile_pic }}"
              alt="avatar"
              class="rounded-circle img-fluid"
              style="width: 150px"
            />
            <h5 class="my-3">{{ profile.user.first_name }}</h5>
            <p class="text-muted mb-4">{{ profile.address }}</p>
            <div class="d-flex justify-content-center mb-2">
              <a href="{% url 'edit_profile'%}"
                ><button id="gbcolor" type="button" class="btn btn-primary">
                  Edit My Profile
                </button></a
              >
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-8">
        <div class="card mb-4">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Full Name</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{ profile.user.first_name}}</p>
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Email</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{ profile.user.email }}</p>
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Phone</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{ profile.contact_num}}</p>
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Address</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{ profile.address}}</p>
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Joined Date</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{ profile.created_at }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="row">
        <div class="col-md-6">
          <div class="card mb-4 mb-md-0">
            <div class="card-body">
              <p class="mb-4">
                <span class="text-primary font-italic me-1">Coffee Consumption Details </span>
              </p>
              {% comment %} <p class="mb-1" style="font-size: 0.77rem">Web Design</p> {% endcomment %}
              <div >
                {% comment %} <div
                  class="progress-bar"
                  role="progressbar"
                  style="width: 80%"
                  aria-valuenow="80"
                  aria-valuemin="0"
                  aria-valuemax="100"
                ></div> {% endcomment %}

                {% if coffees %}
                <table >
                  <thead style ="">
                    <tr>
                    <td> Coffee Name  </td>
                    <td> Under Category </td>
                    <td> Consumed Quantity </td>
                    <td> Last Order Date </td>
                    
                    </tr>
                  </thead>
                  <tbody>
                    {% for coffee in coffees %}
                    <tr>
                     
                      <td> <a href={% url 'coffee_detail' coffee_id=coffee.coffee.id %}>{{ coffee.coffee.name }}</a> </td>
                      <td> {{ coffee.coffee.category }}  </td>
                      <td> {{ coffee.quantity }} </td>
                      <td> {{ coffee.updated_at }} </td>
                    </tr>

                    {% endfor %}
                  </tbody>
                </table>
                {% elif not coffees %}
                
                <h5> You have not ordered any Coffee yet ! </h5>
                {% endif %}

              </div>

            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>

{% endblock %}
